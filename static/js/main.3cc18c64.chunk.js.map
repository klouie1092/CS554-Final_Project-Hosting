{"version":3,"sources":["components/CreatePDF.js","firebase/Firebase.js","firebase/Auth.js","firebase/FirebaseFunctions.js","components/SignOut.js","components/ChangePassword.js","components/Account.js","components/Home.js","components/Landing.js","components/Navigation.js","components/SocialSignIn.js","components/SignIn.js","components/SignUp.js","components/ShoppingCart.js","components/CandyList.js","components/Candy.js","components/PrivateRoute.js","components/App.js","index.js"],"names":["createPDF","shopcart","doc","jsPDF","rows","forEach","candy","push","name","numbers","price","toFixed","autoTable","columns","body","date","Date","split","dateStr","save","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","loadingUser","setLoadingUser","useEffect","auth","onAuthStateChanged","user","Provider","value","doCreateUserWithEmailAndPassword","email","password","displayName","a","createUserWithEmailAndPassword","updateProfile","doChangePassword","oldPassword","newPassword","credential","EmailAuthProvider","reauthenticateWithCredential","updatePassword","doSignOut","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSocialSignIn","provider","socialProvider","GoogleAuthProvider","signInWithPopup","sendPasswordResetEmail","signOut","SignOutButton","type","onClick","ChangePassword","useContext","pwMatch","setPwMatch","submitForm","event","preventDefault","target","elements","currentPassword","newPasswordOne","newPasswordTwo","alert","providerData","providerId","className","onSubmit","id","placeholder","autoComplete","required","Account","undefined","candyData","setCandyData","pastOrders","setPastOrders","error","setError","loading","setLoading","axios","get","data","console","log","fetchData","changeCandy","image","number","numberha1","Number","put","then","res","SignOut","map","e","key","_id","order","purchase","to","src","alt","filter","stock","parseFloat","total","address","payment","Home","Landing","logo","Navigation","nameEl","useRef","handleSubmit","window","location","href","current","NavigationAuth","size","ref","aria-hidden","NavigationNonAuth","SocialSignIn","socialSignOn","SignIn","handleLogin","document","getElementById","doPasswordReset","SignUp","handleSignUp","passwordOne","passwordTwo","ShoppingCart","setShopcartData","showForm","setForm","quantChange","setQuantChange","itemDeleted","setItemDeleted","firstName","setFirstName","lastName","setLastName","street","setStreet","city","setCity","state","setState","zip","setZip","setPayment","intn","newData","changed","boolCheck","i","cand","ca","delete","length","deleteC","candyNumber","changeData","ind","data1","numberha","isNaN","test","dataCheck","totalprice","reduce","curr","item","parseInt","clearShopCart","paymentInfo","substring","checkStock","stop","reload","post","currentCandy","updateInformation","newStockNumber","items","partialSum","Button","hidden","onChange","useStyles","makeStyles","card","maxWidth","height","marginLeft","marginRight","borderRadius","border","boxShadow","titleHead","borderBottom","fontWeight","grid","flexGrow","flexDirection","media","width","button","color","fontSize","CandyList","searchTerm","setSearchTerm","filteCandy","setFilteCandy","params","useParams","classes","makeStarRating","rating","num","Math","round","content","returnVal","toLowerCase","includes","htmlFor","Grid","container","spacing","xs","sm","md","lg","xl","Card","variant","CardMedia","component","title","CardContent","numRatings","buildCards","Candy","candyInfo","setCandyInfo","candyHave","setCandyHave","candyStock","setCandyStock","userReview","setUserReview","reviewRating","setReviewRating","candyId","reviews","have","reviewCandy","review","trim","today","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","deleteReview","changeRating","notBlank","manufacturer","vegan","descrption","cols","PrivateRoute","App","path","element","ReactDOM","render"],"mappings":"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","file":"static/js/main.3cc18c64.chunk.js","sourcesContent":["import \"jspdf-autotable\"\r\nimport jsPDF from \"jspdf\"\r\n\r\n//Generates the PDF given the shopping cart\r\nconst createPDF = shopcart => {\r\n    //Initially planned to use wkhtmltopdf, but that requires changing the PATH variable and was relatively\r\n    //difficult to host on heroku or AWS. Instead we chose to use jsPDF\r\n    const doc = new jsPDF();\r\n\r\n    const columns = ['Candy', 'Amount', 'Price per unit', 'Total cost']\r\n    const rows = [];\r\n\r\n    shopcart.forEach(candy => {\r\n        rows.push([candy.name, candy.numbers, `$${candy.price.toFixed(2)}`, `$${(candy.numbers * candy.price).toFixed(2)}`])\r\n    })\r\n\r\n    doc.autoTable({columns:columns, body:rows});\r\n    const date = Date().split(\" \");\r\n\r\n    const dateStr = date[0] + date[1] + date[2] + date[3] + date[4]\r\n    doc.save(`report_${dateStr}.pdf`)\r\n}   \r\n\r\nexport default createPDF","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBz0mn92VagynSWDAwd0rvKPr8uZDfMupw\",\r\n  authDomain: \"candyshop-3a788.firebaseapp.com\",\r\n  projectId: \"candyshop-3a788\",\r\n  storageBucket: \"candyshop-3a788.appspot.com\",\r\n  messagingSenderId: \"864697354101\",\r\n  appId: \"1:864697354101:web:33f7616b94842042f8f53c\"\r\n});\r\n\r\nexport default firebaseApp;\r\n","import React, {useState, useEffect} from 'react';\r\nimport firebaseApp from './Firebase';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({children}) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loadingUser, setLoadingUser] = useState(true);\r\n\r\n  useEffect(() => {\r\n    firebaseApp.auth().onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoadingUser(false);\r\n    });\r\n  }, []);\r\n\r\n  if (loadingUser) {\r\n    return (\r\n      <div>\r\n        <h1>Loading....Loading....Loading....Loading....Loading....</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{currentUser}}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import firebase from 'firebase/app';\r\n\r\nasync function doCreateUserWithEmailAndPassword(email, password, displayName) {\r\n  await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n  firebase.auth().currentUser.updateProfile({displayName: displayName});\r\n}\r\n\r\nasync function doChangePassword(email, oldPassword, newPassword) {\r\n  let credential = firebase.auth.EmailAuthProvider.credential(\r\n    email,\r\n    oldPassword\r\n  );\r\n  await firebase.auth().currentUser.reauthenticateWithCredential(credential);\r\n  await firebase.auth().currentUser.updatePassword(newPassword);\r\n  await doSignOut();\r\n}\r\n\r\nasync function doSignInWithEmailAndPassword(email, password) {\r\n  await firebase.auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nasync function doSocialSignIn(provider) {\r\n  let socialProvider = null;\r\n  if (provider === 'google') {\r\n    socialProvider = new firebase.auth.GoogleAuthProvider();\r\n  } \r\n  await firebase.auth().signInWithPopup(socialProvider);\r\n}\r\n\r\nasync function doPasswordReset(email) {\r\n  await firebase.auth().sendPasswordResetEmail(email);\r\n}\r\n\r\nasync function doPasswordUpdate(password) {\r\n  await firebase.auth().updatePassword(password);\r\n}\r\n\r\nasync function doSignOut() {\r\n  await firebase.auth().signOut();\r\n}\r\n\r\nexport {\r\n  doCreateUserWithEmailAndPassword,\r\n  doSocialSignIn,\r\n  doSignInWithEmailAndPassword,\r\n  doPasswordReset,\r\n  doPasswordUpdate,\r\n  doSignOut,\r\n  doChangePassword\r\n};\r\n","import React from 'react';\r\nimport {doSignOut} from '../firebase/FirebaseFunctions';\r\n\r\nconst SignOutButton = () => {\r\n  return (\r\n    <button type='button' onClick={doSignOut}>\r\n      Sign Out\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SignOutButton;","import React, {useContext, useState} from 'react'\r\nimport { AuthContext } from '../firebase/Auth'\r\nimport { doChangePassword } from '../firebase/FirebaseFunctions'\r\nimport '../App.css';\r\nfunction ChangePassword(){\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [ pwMatch, setPwMatch] = useState('');\r\n\r\n    const submitForm = async (event) =>{\r\n        event.preventDefault();\r\n        const {currentPassword, newPasswordOne, newPasswordTwo} = event.target.elements;\r\n        if(newPasswordOne.value !== newPasswordTwo.value){\r\n            setPwMatch('New Passwords do not match, please try again');\r\n            return false;\r\n        }\r\n\r\n        try{\r\n            await doChangePassword(currentUser.email,currentPassword.value,newPasswordOne.value);\r\n            alert(\"Password has been changed. You will now be logged out\")\r\n        }catch(err){\r\n            alert(err)\r\n        }\r\n    }\r\n    if (currentUser.providerData[0].providerId === 'password') {\r\n    return(\r\n        <div>\r\n            {pwMatch && <h4 className='error'>{pwMatch}</h4>}\r\n            <h2>Change Password</h2>\r\n            <form onSubmit={submitForm}>\r\n            <div className='form-group'>\r\n                <label>\r\n                Current Password:\r\n                <input\r\n                    className='form-control'\r\n                    name='currentPassword'\r\n                    id='currentPassword'\r\n                    type='password'\r\n                    placeholder='Current Password'\r\n                    autoComplete='off'\r\n                    required\r\n                />\r\n                </label>\r\n            </div>\r\n\r\n            <div className='form-group'>\r\n                <label>\r\n                New Password:\r\n                <input\r\n                    className='form-control'\r\n                    name='newPasswordOne'\r\n                    id='newPasswordOne'\r\n                    type='password'\r\n                    placeholder='Password'\r\n                    autoComplete='off'\r\n                    required\r\n                />\r\n                </label>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label>\r\n                Confirm New Password:\r\n                <input\r\n                    className='form-control'\r\n                    name='newPasswordTwo'\r\n                    id='newPasswordTwo'\r\n                    type='password'\r\n                    placeholder='Confirm Password'\r\n                    autoComplete='off'\r\n                    required\r\n                />\r\n                </label>\r\n            </div>\r\n\r\n            <button type='submit'>Change Password</button>\r\n            </form>\r\n            <br />\r\n        </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n        <div>\r\n            <h2>\r\n            You are signed in using a Social Media Provider, You cannot change\r\n            your password\r\n            </h2>\r\n        </div>\r\n        );\r\n    }\r\n}\r\nexport default ChangePassword;","import React, {useState, useEffect,useContext} from 'react';\r\nimport axios from 'axios';\r\nimport createPDF from './CreatePDF'\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport SignOutButton from './SignOut';\r\nimport '../App.css';\r\nimport ChangePassword from './ChangePassword';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Account() {\r\n  const {currentUser} = useContext(AuthContext);\r\n  const [candyData, setCandyData] = useState(undefined);\r\n  const [pastOrders, setPastOrders] = useState([])\r\n  const [ error, setError ] = useState(false);\r\n  const [ loading, setLoading ] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/order/' + currentUser.email);\r\n        setPastOrders(data);\r\n        setLoading(false);\r\n        setError(false);\r\n      } catch (e) {\r\n        setError(true);\r\n        console.log(e);\r\n      }\r\n      try {\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candies');\r\n        setCandyData(data);\r\n      } catch (e) {\r\n        setError(true);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [currentUser.email]);\r\n\r\n  const changeCandy = async (id , name, price,image,number) => {\r\n    let numberha1 = Number(number)\r\n    const body = {id:id, name :name, price:price, image:image, numbers:number}\r\n      \r\n    try{\r\n      await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n      .then(res=>{})\r\n      if (numberha1 === 1)\r\n        alert(`Your cart has been updated to have ${numberha1} unit`)\r\n      else \r\n        alert(`Your cart has been updated to have ${numberha1} units`)\r\n    }\r\n    catch(e){\r\n      alert(e)\r\n    }\r\n  };\r\n\r\n\r\n  if (error){\r\n    return (\r\n      <div>\r\n        <h2>404 page not find</h2>\r\n      </div>\r\n    )\r\n  }\r\n  if(loading){\r\n    return(\r\n      <div>\r\n        <h2>Loading . . .</h2>\r\n      </div>\r\n    )\r\n  } else{\r\n   // console.log(pastOrders)\r\n    return (\r\n      <div>\r\n        <h1>Account Page</h1>\r\n        <ChangePassword />\r\n        <SignOutButton />\r\n        <br/>\r\n        <h3>Past Orders</h3>\r\n        {pastOrders&&currentUser&&(<ul id=\"reviewList\">\r\n          {pastOrders.map(e=>\r\n            \r\n            <li key={e._id}>\r\n              <h4>Order #{e._id}</h4>\r\n          \r\n              <h5>Purchased Items:</h5>\r\n              <div className='PastPurchase'>\r\n                <div className='ItemList'>\r\n                  {e.order.candy.map(purchase=>\r\n                    <div key={purchase.id} className=\"OrderItem\">\r\n                      <Link to={`/Candy/${purchase.id}`}>\r\n                        <img className ='orderImage' src={purchase.image} alt='candy'/>\r\n                      </Link>\r\n                      <div className=\"OrderInfo\">\r\n                        <div className=\"TopOrderInfo\">\r\n                          <p>{purchase.name} </p>\r\n                          <p><b>${(purchase.numbers * purchase.price).toFixed(2)}</b></p>\r\n                        </div>\r\n                        <p>${purchase.price.toFixed(2)} ea</p>\r\n                        <div className=\"BottomOrderInfo\">\r\n                          <p>Quantity Purchased: {purchase.numbers}</p>\r\n                          {(candyData&&candyData.filter((candy) => candy._id === purchase.id)[0].stock > purchase.numbers) ?\r\n                            <button onClick={() => changeCandy(purchase.id,purchase.name,purchase.price,purchase.image,purchase.numbers)}>Order Again</button> :\r\n                            <p>Not Enough Stock</p>\r\n                          }\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className='TotalOrderInfo'>\r\n                  <p><b>Total Price: ${parseFloat(e.order.total).toFixed(2)}</b></p>\r\n                  <p><b>Payment Info: </b></p>\r\n                  <p>Billing Address: {e.order.address} </p>\r\n                  <p>Payment Made With Card Ending In: {e.order.payment}</p>\r\n                  <button onClick={() => createPDF(e.order.candy)} >Generate Recipt</button>\r\n                </div>\r\n              </div>\r\n            </li>             \r\n          )}\r\n        </ul>)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Account;","import React from 'react';\r\n\r\nimport '../App.css';\r\n\r\nfunction Home() {\r\n  return (\r\n    <div>\r\n      <h2>This is the Home page</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nimport '../App.css';\r\n\r\nfunction Landing() {\r\n  return (\r\n    <div className='landing'>\r\n      <h1>Welcome to Group Null's CandyShop</h1>\r\n      <h2>Start browsing our selection of candies using the search bar above.</h2>\r\n      <h3>If something catches your eye, be sure to add it to your cart!</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;","import React, { useContext } from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport '../App.css';\r\n\r\nconst logo = 'https://see.fontimg.com/api/renderfont4/X3WjK/eyJyIjoiZnMiLCJoIjo2NSwidyI6MTI1MCwiZnMiOjUyLCJmZ2MiOiIjRkZGRUZFIiwiYmdjIjoiI0RCMzAzMCIsInQiOjF9/R3JvdXAgTnVsbA/uncracked-free-trial.png'\r\n\r\nconst Navigation = () => {\r\n  const nameEl = React.useRef(null);\r\n  const {currentUser} = useContext(AuthContext);\r\n\r\n  //does someone know how to do this better as it forces a page refresh\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    window.location.href = '/candies/' + nameEl.current.value\r\n  }\r\n\r\n  \r\n  const NavigationAuth = () => {\r\n    return (\r\n      <nav className='navigation'>\r\n        <NavLink className='weblink' to='/'>\r\n          <img src={logo} alt='logo failed to load'/>\r\n        </NavLink>\r\n        <div className='searchBar'>\r\n          <NavLink className='weblink' to='/candies'>\r\n            <div className='NotAButton'>All</div>\r\n          </NavLink>\r\n          <form className=\"searchForm\" onSubmit={handleSubmit}>\r\n            <input type =\"search\" size=\"50\" placeholder=\"Search For Candies\" ref={nameEl}/>\r\n            <button type=\"submit\"><i className=\"fa fa-search\"></i></button>\r\n          </form>\r\n        </div>\r\n        <NavLink className='weblink' to='/account'>\r\n          <i className=\"fa fa-user-circle\" aria-hidden=\"true\">Account</i>\r\n        </NavLink>\r\n        <NavLink className='weblink' to='/shoppingcart'> \r\n          <i className=\"fa fa-shopping-cart\" aria-hidden=\"true\">My Cart</i>\r\n        </NavLink>\r\n      </nav>\r\n    );\r\n  };\r\n  \r\n  const NavigationNonAuth = () => {\r\n    return (\r\n      <nav className='navigation'>\r\n        <NavLink className='weblink' to='/'>\r\n          <img src={logo} alt='logo failed to load'/>\r\n        </NavLink>\r\n        <div className='searchBar'>\r\n          <NavLink className='weblink' to='/candies'>\r\n            <div className='NotAButton'>All</div>\r\n          </NavLink>\r\n          <form className=\"searchForm\" onSubmit={handleSubmit}>\r\n            <input type =\"search\" size=\"50\" placeholder=\"Search For Candies\" ref={nameEl}/>\r\n            <button type=\"submit\"><i className=\"fa fa-search\"></i></button>\r\n          </form>\r\n        </div>\r\n        <NavLink className='weblink' to='/signup'> \r\n          Sign-up\r\n        </NavLink>\r\n        <NavLink className='weblink' to='/signin'> \r\n          Sign-In\r\n        </NavLink>\r\n      </nav>\r\n    );\r\n  };\r\n\r\n  return currentUser ? <NavigationAuth /> : <NavigationNonAuth />;\r\n};\r\n  \r\n  export default Navigation;","import React from 'react'\r\n\r\nimport { doSocialSignIn } from '../firebase/FirebaseFunctions'\r\n\r\nconst SocialSignIn = () =>{\r\n    const socialSignOn = async (provider) =>{\r\n       try{\r\n        await doSocialSignIn(provider);\r\n       \r\n       }catch(err){\r\n           alert(err);\r\n       }\r\n\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <img onClick={()=> socialSignOn('google')} alt='google signin' src = '/imgs/btn_google_signin.png'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SocialSignIn","import React, {useContext} from 'react';\r\nimport SocialSignIn from './SocialSignIn';\r\nimport {Navigate} from 'react-router-dom'\r\nimport {AuthContext} from '../firebase/Auth'\r\nimport { doSignInWithEmailAndPassword,doPasswordReset } from '../firebase/FirebaseFunctions';\r\n\r\nfunction SignIn(){\r\n    const {currentUser} = useContext(AuthContext);\r\n    const handleLogin = async (event) => {\r\n        event.preventDefault();\r\n        let {email,password} = event.target.elements\r\n\r\n        try{\r\n            await doSignInWithEmailAndPassword(email.value, password.value)\r\n        }catch(err){\r\n            alert(err)\r\n        }\r\n    }\r\n    const passwordReset = (event) =>{\r\n        event.preventDefault();\r\n        let email = document.getElementById('email').value\r\n        if(email){\r\n            doPasswordReset(email)\r\n            alert (\"An email has been sent so that you can reset your password\")\r\n        }\r\n        else{\r\n            alert(\"Please enter an email address below before you click the forgot Password link\")\r\n        }\r\n    }\r\n    if(currentUser){\r\n        return <Navigate to =\"/\" />\r\n    }\r\n    return (\r\n        <div>\r\n        <h1>Log in</h1>\r\n        <form onSubmit={handleLogin}>\r\n          <div className='form-group'>\r\n            <label>\r\n              Email:\r\n              <input\r\n                className='form-control'\r\n                name='email'\r\n                id='email'\r\n                type='email'\r\n                placeholder='Email'\r\n                required\r\n              />\r\n            </label>\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>\r\n              Password:\r\n              <input\r\n                className='form-control'\r\n                name='password'\r\n                type='password'\r\n                placeholder='Password'\r\n                autoComplete='off'\r\n                required\r\n              />\r\n            </label>\r\n          </div>\r\n          <button type='submit'>Log in</button>\r\n  \r\n          <button className='forgotPassword' onClick={passwordReset}>\r\n            Forgot Password\r\n          </button>\r\n        </form>\r\n  \r\n        <br />\r\n        <SocialSignIn />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default SignIn;","import React, {useContext, useState} from 'react';\r\nimport {Navigate} from 'react-router-dom'\r\nimport { doCreateUserWithEmailAndPassword } from '../firebase/FirebaseFunctions';\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport SocialSignIn from './SocialSignIn';\r\nfunction SignUp(){\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [pwMatch,setPwMatch] = useState('')\r\n    const handleSignUp = async (e) =>{\r\n        e.preventDefault();\r\n        const{displayName, email, passwordOne, passwordTwo} = e.target.elements;\r\n        if(passwordOne.value !== passwordTwo.value){\r\n            setPwMatch('Passwords do not match');\r\n            return false\r\n        }\r\n\r\n        try{\r\n            await doCreateUserWithEmailAndPassword(email.value, passwordOne.value,displayName.value)\r\n        }catch(err){\r\n            alert(err)\r\n        }\r\n    };\r\n\r\n    if (currentUser){\r\n        return <Navigate to= '/home'/>\r\n    }\r\n    return(\r\n     <div>\r\n        <h1>Sign up</h1>\r\n        {pwMatch && <h4 className='error'>{pwMatch}</h4>}\r\n        <form onSubmit={handleSignUp}>\r\n        <div className='form-group'>\r\n            <label>\r\n            Name:\r\n            <input\r\n                className='form-control'\r\n                required\r\n                name='displayName'\r\n                type='text'\r\n                placeholder='Name'\r\n            />\r\n            </label>\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>\r\n            Email:\r\n            <input\r\n                className='form-control'\r\n                required\r\n                name='email'\r\n                type='email'\r\n                placeholder='Email'\r\n            />\r\n            </label>\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>\r\n            Password:\r\n            <input\r\n                className='form-control'\r\n                id='passwordOne'\r\n                name='passwordOne'\r\n                type='password'\r\n                placeholder='Password'\r\n                autoComplete='off'\r\n                required\r\n            />\r\n            </label>\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>\r\n            Confirm Password:\r\n            <input\r\n                className='form-control'\r\n                name='passwordTwo'\r\n                type='password'\r\n                placeholder='Confirm Password'\r\n                autoComplete='off'\r\n                required\r\n            />\r\n            </label>\r\n        </div>\r\n        <button id='submitButton' name='submitButton' type='submit'>\r\n            Sign Up\r\n        </button>\r\n        </form>\r\n        <br />\r\n        <SocialSignIn />\r\n  </div>\r\n);\r\n}\r\n\r\nexport default SignUp;","import React, {useContext, useState, useEffect}  from 'react';\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport axios from 'axios';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {\r\n    Button\r\n  } from '@material-ui/core';\r\n\r\nimport '../App.css';\r\n\r\nfunction ShoppingCart() {\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [ shopcart, setShopcartData ] = useState(undefined);\r\n    const [ error, setError ] = useState(false);\r\n    const [ loading, setLoading ] = useState(true);\r\n    const [ showForm, setForm ] = useState(false);\r\n    const [ candyData,setCandyData] = useState(undefined);\r\n    const [ quantChange,setQuantChange] = useState([]);\r\n    const [ itemDeleted,setItemDeleted] = useState(false);\r\n    const [ firstName, setFirstName] = useState('');\r\n    const [ lastName, setLastName] = useState('');\r\n    const [ street, setStreet] = useState('');\r\n    const [ city, setCity] = useState('');\r\n    const [ state, setState] = useState('');\r\n    const [ zip, setZip] = useState(0);\r\n    const [ payment, setPayment] = useState(0);\r\n    //const [totalPrice, setTotalPrice] = useState(0);\r\n    const intn = /^\\+?[1-9][0-9]*$/\r\n    //console.log(currentUser.email)\r\n    useEffect(() =>{\r\n        async function fetchData(){\r\n            try{\r\n                const data = await axios.get(\"https://final554groupnull.herokuapp.com/usershopcart/\" + currentUser.email);\r\n                const candy = await axios.get(\"https://final554groupnull.herokuapp.com/Candies\");\r\n                let newData = [];\r\n                let changed = [];\r\n                \r\n                //console.log(data.data)\r\n                let boolCheck = false;\r\n                for(let i = 0; i< data.data.length;i++){\r\n                    let cand = candy.data.filter(ca=> data.data[i].id === ca._id)\r\n                    \r\n                    if(cand[0].stock ===0){\r\n                        await axios.delete(\"https://final554groupnull.herokuapp.com/usershopcartid/\" + currentUser.email,{ data: { id:cand[0]._id } })\r\n                        \r\n                        if(boolCheck ===false) boolCheck = true\r\n                    }\r\n                    else if(cand[0].stock < data.data[i].numbers){\r\n                        data.data[i].numbers = cand[0].stock;\r\n                        let body = {id: cand[0]._id, name : cand[0].name, price: cand[0].price, image:cand[0].image, numbers:data.data[i].numbers}\r\n                        await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n                        changed.push(data.data[i])\r\n                        newData.push(data.data[i])\r\n                        \r\n                    }\r\n                    else{\r\n                        newData.push(data.data[i])\r\n                    }\r\n                }\r\n                \r\n                setItemDeleted(boolCheck);\r\n                setQuantChange(changed);\r\n                setShopcartData(newData)\r\n                setCandyData(candy.data);\r\n                //console.log(data.data)\r\n                //useContext(data.data.results);\r\n                setLoading(false)\r\n                setError(false)\r\n               \r\n                //console.log(shopcart===undefined)\r\n\r\n            }\r\n            catch(e){\r\n                setError(true)\r\n                console.log(e)\r\n            }\r\n        }\r\n        fetchData();\r\n\r\n    }, [currentUser.email]);\r\n\r\n    const deleteC = async(id, candyNumber,name) =>{        \r\n        try{\r\n            await axios.delete(\"https://final554groupnull.herokuapp.com/usershopcartid/\" + currentUser.email,{ data: { id:id } })\r\n            .then(async res=>{\r\n                let olddata = shopcart\r\n               // console.log(shopcart)\r\n                //let num \r\n                let changeData = olddata.filter((e, ind) => {\r\n                    return e.id !== res.data.id;\r\n                })\r\n                //console.log(changeData)\r\n                // olddata.splice(num,1)\r\n                // console.log(shopcart)\r\n                // console.log(olddata)\r\n                alert(\"You have successfully deleted item: \" +name + \" from your cart\" )\r\n                setShopcartData(changeData)\r\n            })\r\n            \r\n            \r\n            \r\n        }\r\n        catch(e){\r\n            alert(e)\r\n        }\r\n\t}\r\n    const changeCandy = async (id,name, price, image, number) => {\r\n        let data1\r\n      \r\n        try{\r\n            const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candy/' + id);\r\n            data1 = data\r\n            //console.log(data1)\r\n        }\r\n        catch(e){\r\n            alert(e)\r\n        }\r\n        let numberha = document.getElementById(id).value\r\n        let numberha1 = Number(numberha)\r\n        //console.log(numberha1)\r\n        //console.log(number)\r\n        //console.log(data1.stock)\r\n\r\n        if (isNaN(numberha1) || isNaN(numberha1) || isNaN(numberha1)){\r\n          alert('input must be number')\r\n          document.getElementById(id).value = ''\r\n        }\r\n        else if(intn.test(numberha) === false){\r\n          alert('input must be integer')\r\n          document.getElementById(id).value = ''\r\n        }\r\n        else if (numberha1  > data1.stock){\r\n          alert('There is not enough stock available to add that amount to your cart')\r\n          document.getElementById(id).value = ''\r\n        }\r\n\r\n\r\n        else{\r\n            const body = {id: id, name : name, price: price, image:image, numbers:numberha1}\r\n            \r\n            \r\n            if(numberha1 === number){\r\n                alert(`You already have ${number} units in your cart, you can only edit to change the value`)\r\n                return;\r\n            }\r\n            try{\r\n                \r\n                await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n                .then(res=>{\r\n                    let olddata = shopcart\r\n                    //let num \r\n                    //console.log(res)\r\n                    let changeData = olddata.map((e, ind) => {\r\n                        //if (e.id === res.id){\r\n                        //num = ind\r\n                        return e.id === res.data.id? res.data:e;\r\n                        //}\r\n                    })\r\n                    // olddata.splice(num,1)\r\n                    // olddata.push\r\n                    // console.log(res)\r\n                    //console.log(changeData)\r\n                    setShopcartData(changeData)\r\n                    //console.log(changeData)\r\n                })\r\n                \r\n                alert('you have edited your shopping cart')\r\n            }\r\n            catch(e){\r\n                alert(e)\r\n            }\r\n            \r\n            document.getElementById(id).value = ''\r\n        }\r\n    };\r\n    const dataCheck = async (e) => {\r\n        e.preventDefault()\r\n        let totalprice = shopcart.reduce((curr, item) => curr + item.price * item.numbers, 0)\r\n\r\n        if(typeof firstName !== 'string' || firstName === ''){\r\n            alert('please enter a valid firstName')\r\n            return;\r\n        }\r\n        if(typeof lastName !== 'string' || lastName === ''){\r\n            alert('please enter a valid lastName')\r\n            return;\r\n        }\r\n        if(typeof street !== 'string' || street === ''){\r\n            alert('please enter a valid street')\r\n            return;\r\n        }\r\n        if(typeof city !== 'string' || city === ''){\r\n            alert('please enter a valid city')\r\n            return;\r\n        }\r\n        if(typeof state !== 'string' || state === ''){\r\n            alert('please enter a valid state')\r\n            return;\r\n        }\r\n        if(typeof zip !== 'string' || isNaN(parseInt(zip)) ||  zip.length !== 5){\r\n            alert('please enter a valid zipcode')\r\n            return\r\n        }\r\n        if(typeof payment !== 'string' || isNaN(parseInt(payment)) || payment.length > 19 || payment.length < 8){\r\n            alert('please enter a valid credit card number')\r\n            return\r\n        }\r\n\r\n        clearShopCart(shopcart, totalprice)\r\n\r\n    }\r\n    const clearShopCart = async (shopcart,totalprice) => {\r\n        //Deletes the shopping cart\r\n        let paymentInfo = payment.substring(payment.length -4);\r\n        let address = street +', ' + city + ', ' + state + ', ' + zip;\r\n        try{\r\n        const checkStock = await axios.get(\"https://final554groupnull.herokuapp.com/Candies\")\r\n        let check;\r\n        let stop = false;\r\n        shopcart.forEach((e)=>{\r\n            check = checkStock.data.filter(cand=> cand._id === e.id);\r\n\r\n            if(check[0].stock < e.numbers){\r\n                alert(\"There has been a change in stock, cannot complete order\");\r\n                stop = true;\r\n                window.location.reload();\r\n                return\r\n            }\r\n        })\r\n            \r\n        \r\n            if(stop===false){\r\n            await axios.post(`https://final554groupnull.herokuapp.com/order`, {\r\n            email: currentUser.email,\r\n            candy: shopcart,\r\n            address: address,\r\n            total: totalprice,\r\n            payment: paymentInfo\r\n            })\r\n\r\n            //Deletes the shopping cart\r\n\r\n            let updateInformation;\r\n            let currentCandy;\r\n            shopcart.forEach(async (e)=>{\r\n                currentCandy = candyData.filter(cand=> cand._id === e.id) \r\n            // console.log(currentCandy)\r\n                updateInformation  = {\r\n                    id: e.id,\r\n                    newStockNumber: (currentCandy[0].stock - e.numbers)\r\n\r\n                }\r\n                await axios.post('https://final554groupnull.herokuapp.com/Candies/updateStock', updateInformation)\r\n            })\r\n            \r\n            await axios.delete(`https://final554groupnull.herokuapp.com/usershopcart/${currentUser.email}`)\r\n            alert('thank you for your purchase')\r\n        \r\n            window.location.reload(false)\r\n        }\r\n        }catch(e){\r\n            alert(e);\r\n        }\r\n    }\r\n\r\n    if (error === true){\r\n        return (\r\n            <div>\r\n                <h2>404 page not find</h2>\r\n            </div>\r\n        )\r\n    }\r\n    else if(loading === true){\r\n        return(\r\n            <div>\r\n                <h2>Loading . . .</h2>\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        if(shopcart === undefined || shopcart.length === 0){\r\n            return(\r\n                \r\n                <div>\r\n                      {itemDeleted===true&&currentUser&&(\r\n                        <h2 id='itemDeleted'>Due to changes in stock, one or more items have been removed from your cart. Please review your items before checking out</h2>\r\n                    )}\r\n                    <h2>Your didn't add any candy in to shopping cart go add some!!!</h2>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            const items = shopcart && shopcart.reduce((partialSum, a) => partialSum + a.numbers, 0);\r\n            const totalprice = shopcart && shopcart.reduce((partialSum, a) => partialSum + a.price * a.numbers, 0);\r\n            return (\r\n                <div className='FullPage'>\r\n                  {quantChange.length!==0&&currentUser&&(\r\n                    <div id='quantChange'>'Please review your cart, changes have been made due to changes in available stock</div>\r\n                  )}\r\n                  {itemDeleted===true&&currentUser&&(\r\n                    <div id='itemDeleted'>Due to changes in stock, one or more items have been removed from your cart. Please review your items before checking out</div>\r\n                  )}\r\n                  <div className='ShoppingCart'>\r\n                    <div className='TopCheckout'>\r\n                      <h1>Cart</h1>\r\n                      <span>({items} items)</span>\r\n                    </div>\r\n                    <div className='PastPurchase'>\r\n                      <div className='ItemList'>\r\n                        {shopcart && shopcart.map((candy) =>\r\n                        <div key={candy.id} className=\"OrderItem\">\r\n                          <Link to={`/Candy/${candy.id}`}>\r\n                            <img className ='orderImage' src={candy.image} alt='candy'/>\r\n                          </Link>\r\n                          <div className=\"OrderInfo\">\r\n                            <div className=\"TopOrderInfo\">\r\n                              <p>{candy.name} </p>\r\n                              <p><b>${(candy.numbers * candy.price).toFixed(2)}</b></p>\r\n                            </div>\r\n                            <p>${candy.price.toFixed(2)} ea</p>\r\n                            <div className=\"BottomOrderInfo\">\r\n                              <p>Quantity Purchased: {candy.numbers}</p>\r\n                              <label>\r\n                                <input\r\n                                  id={candy.id}\r\n                                  name='number'\r\n                                  placeholder='Change amount'\r\n                                />\r\n                              </label>\r\n                              <Button onClick={()=>changeCandy(candy.id,candy.name, candy.price, candy.image, candy.numbers)}> Edit Quantity</Button>\r\n                              <Button onClick={()=>deleteC(candy.id, candy.numbers,candy.name)}>Remove</Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className='Checkout'>\r\n                      <h1>Total Price: ${totalprice.toFixed(2)}</h1>\r\n                      <button onClick={() => setForm(!showForm)}>Check out</button>\r\n                      <form id='checkout' hidden={!showForm} onSubmit={dataCheck}>\r\n                          <label>First Name\r\n                          <input type=\"text\" value={firstName} onChange={e => setFirstName(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <label>Last Name\r\n                          <input type=\"text\" value={lastName} onChange={e => setLastName(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <h2>Address:</h2>\r\n                          <label>Street Address\r\n                          <input type=\"text\" id='street' value={street} onChange={e => setStreet(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <label>City\r\n                          <input type=\"text\" id='city' value={city} onChange={e => setCity(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <label> State\r\n                          <input type=\"text\" id= 'state' value={state} onChange={e => setState(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <label>Zipcode\r\n                          <input type=\"number\" id='zip' value={zip} onChange={e => setZip(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <label>Credit Card Number\r\n                          <input type=\"number\" id='payment' value={payment} onChange={e => setPayment(e.target.value)}/>\r\n                          </label>\r\n                          <br/>\r\n                          <input type=\"submit\" value=\"Submit\"/>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nexport default ShoppingCart;","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Link } from 'react-router-dom';\r\n\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Grid,\r\n  makeStyles\r\n} from '@material-ui/core';\r\n\r\nimport '../App.css';\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    maxWidth: 350,\r\n    height: 'auto',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    borderRadius: 5,\r\n    border: '1px solid #1e8678',\r\n    boxShadow: '0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);'\r\n  },\r\n  titleHead: {\r\n    borderBottom: '1px solid #1e8678',\r\n    fontWeight: 'bold'\r\n  },\r\n  grid: {\r\n    flexGrow: 1,\r\n    flexDirection: 'row'\r\n  },\r\n  media: {\r\n    height: '100%',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    color: '#1e8678',\r\n    fontWeight: 'bold',\r\n    fontSize: 12\r\n  }\r\n});\r\n\r\nconst CandyList = () =>{\r\n  const [candyData, setCandyData] = useState(undefined);\r\n  const [ error, setError ] = useState(false);\r\n  const [ loading, setLoading ] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteCandy, setFilteCandy] = useState('');\r\n  const params = useParams();\r\n\r\n  const classes = useStyles();\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candies');\r\n        setLoading(false);\r\n        setError(false);\r\n        setCandyData(data);\r\n        if (params.searchTerm) {\r\n          setSearchTerm(params.searchTerm);\r\n        } else {\r\n          setSearchTerm('');\r\n        }\r\n      } catch (e) {\r\n        setError(true);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [params]);\r\n\r\n\r\n  const roundToHalf = (num) =>{\r\n    return Math.round(num * 2) / 2;\r\n  }\r\n  \r\n  const makeStarRating = (rating) => {\r\n    rating = roundToHalf(rating);\r\n    let content = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      if (rating - i === .5) {\r\n        content.push(<i className=\"fa fa-star-half-full checked\" key={`star${i}`}/>);\r\n      } else if (rating - i > 0) {\r\n        content.push(<i className=\"fa fa-star checked\" key={`star${i}`}/>);\r\n      } else {\r\n        content.push(<i className=\"fa fa-star-o checked\" key={`star${i}`}/>);\r\n      }\r\n    }\r\n    return content;\r\n  }\r\n\r\n  const buildCards = (candy) =>{\r\n    return(\r\n      <Grid item xs={12} sm={6} md={4} lg={3} xl={2} key={candy._id}>\r\n        <Card className={classes.card} variant='outlined'>\r\n          <Link to={`/Candy/${candy._id}`}>\r\n            <CardMedia\r\n              className={classes.media}\r\n              component='img'\r\n              image = {candy.image}\r\n              title = 'image'\r\n            />\r\n            <CardContent>\r\n              <h2 className='UnderLine'>{candy.name}</h2>\r\n              <h2>{makeStarRating(candy.rating)} ({candy.numRatings})</h2>\r\n              <h2>${candy.price.toFixed(2)}</h2>\r\n            </CardContent>\r\n          </Link>\r\n        </Card>\r\n      </Grid>\r\n    );\r\n  }\r\n  // card = candyData && candyData.map((eachCandy) =>{\r\n  //   return buildCards(eachCandy);\r\n  // })\r\n\r\n  // return(\r\n  //   <div>\r\n  //       <SearchCandy searchValue={searchValue} />\r\n  //       <br />\r\n  //       <br />\r\n  //       <Grid container className={classes.grid} spacing={5}>\r\n  //         {card}\r\n  //       </Grid>\r\n  //   </div>\r\n  // )  \r\n\r\n  let returnVal = candyData&&candyData.filter(candy =>{\r\n    if(searchTerm === '' && filteCandy === ''){\r\n      return true;\r\n    }\r\n    if(candy.name.toLowerCase().includes(searchTerm.toLowerCase()) && filteCandy === ''){\r\n      return true;\r\n    }\r\n    if(parseInt(filteCandy) < candy.rating && searchTerm === ''){\r\n      return true;\r\n    }\r\n    if(candy.name.toLowerCase().includes(searchTerm.toLowerCase()) && parseInt(filteCandy) < candy.rating){\r\n      return true;\r\n    }\r\n    return false\r\n  });\r\n\r\n\r\n  if (error){\r\n    return (\r\n      <div>\r\n        <h2>404 page not find</h2>\r\n      </div>\r\n    )\r\n  } else if(loading){\r\n    return(\r\n      <div>\r\n        <h2>Loading . . .</h2>\r\n      </div>\r\n    )\r\n  } else{\r\n    return(\r\n      <div>\r\n        <h1>{searchTerm ? 'Results for \"' +searchTerm+ '\"' : \"All Candies\"}</h1>\r\n        <br />\r\n        <label htmlFor='rating'>\r\n          filter rating above :\r\n          <select name = \"rating\" id =\"rating\"  onChange={event => setFilteCandy(event.target.value)}>\r\n            <option value = \"0\">0</option>\r\n            <option value = \"1\">1</option>\r\n            <option value = \"2\">2</option>\r\n            <option value = \"3\">3</option>\r\n            <option value = \"4\">4</option>\r\n          </select>\r\n        </label>\r\n        <br />\r\n        <br />\r\n        <br />\r\n          {\r\n            returnVal&&returnVal.length > 0 ? \r\n              <Grid container className={classes.grid} spacing={5}>\r\n                {returnVal.map((candy) =>(buildCards(candy)))}\r\n              </Grid> :\r\n              <p>No Results</p>\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default CandyList;\r\n","import React, {useState, useEffect,useContext} from 'react';\r\nimport axios from 'axios';\r\nimport {useParams } from \"react-router-dom\";\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport '../Candy.css';\r\n\r\nconst Candy = () =>{\r\n  const {currentUser} = useContext(AuthContext);\r\n  const [candyInfo, setCandyInfo] = useState(undefined)\r\n  const [candyHave, setCandyHave] = useState(0)\r\n  const [candyStock, setCandyStock] = useState(0)\r\n  const [userReview,setUserReview] = useState(undefined)\r\n\r\n\r\n  const [ loading, setLoading ] = useState(true);\r\n  const params = useParams();\r\n  const intn = /^\\+?[1-9][0-9]*$/;\r\n\r\n  const [reviewRating, setReviewRating] = useState(0);\r\n  const veganCheck = 'https://iamgoingvegan.b-cdn.net/wp-content/uploads/2020/05/European-Vegetarian-Symbol-961x1024.png'\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        let candyId = params.id\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candy/' + candyId);\r\n        setCandyInfo(data);\r\n        setCandyStock(data.stock);\r\n      \r\n        if(currentUser !== null){          \r\n          data.reviews.forEach((e)=>{\r\n            if(e.email === currentUser.email) setUserReview(e)\r\n          });\r\n          \r\n          const have = await axios.get('https://final554groupnull.herokuapp.com/usershopcart/' + currentUser.email)\r\n          let changeData = await have.data.filter((e) => {\r\n            return e.id === candyId\r\n          })\r\n          \r\n          if(changeData.length !== 0 && changeData[0].numbers){\r\n            setCandyHave(changeData[0].numbers)\r\n          }\r\n        }\r\n        setLoading(false);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [candyHave, currentUser, params.id]);\r\n\r\n  const reviewCandy = async () =>{\r\n    let rating = reviewRating;\r\n    if (rating === 0) {\r\n      alert(\"Please enter a Rating\");\r\n      return;\r\n    }\r\n    let review = document.getElementById('review').value;\r\n    if(!review){\r\n      review = \" \";\r\n    }\r\n    if(review.trim(' ').length === 0) review = \" \";\r\n    let email = currentUser.email;\r\n    let candyId = candyInfo._id;\r\n    \r\n    try{\r\n      await axios.post('https://final554groupnull.herokuapp.com/review',{\r\n        candyId: candyId,\r\n        email: email,\r\n        review: review,\r\n        rating: rating\r\n      });\r\n      \r\n      document.getElementById('review').value='';\r\n      var today = new Date();\r\n      var dd = String(today.getDate()).padStart(2, '0');\r\n      var mm = String(today.getMonth() + 1).padStart(2, '0'); \r\n      var yyyy = today.getFullYear();\r\n      today = mm + '/' + dd + '/' + yyyy;\r\n      let  newReview = {\r\n        candyId: candyId,\r\n        email: email,\r\n        review: review,\r\n        rating: rating,\r\n        date: today\r\n      }\r\n      setUserReview(newReview);\r\n    }catch(e){\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  const deleteReview = async()=>{\r\n    try{\r\n\r\n      await axios.post('https://final554groupnull.herokuapp.com/review/delete',{\r\n        candyId: candyInfo._id,\r\n        email: currentUser.email,\r\n      });\r\n      \r\n      setUserReview(undefined);\r\n      setReviewRating(0);\r\n    } catch(e){\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  const changeCandy = async () => {\r\n    let numberha = document.getElementById('number').value\r\n    let numberha1 = Number(numberha)\r\n    \r\n    if (isNaN(numberha1) || isNaN(numberha1) || isNaN(numberha1)){\r\n      alert('input must be number')\r\n      document.getElementById('number').value = ''\r\n    }\r\n    else if(intn.test(numberha) === false){\r\n      alert('input must be integer')\r\n      document.getElementById('number').value = ''\r\n    } \r\n    \r\n    else if (numberha1 + candyHave > candyInfo.stock){\r\n      alert('There is not enough stock available to add that amount to your cart')\r\n      document.getElementById('number').value = ''\r\n    }\r\n    else{\r\n      let total = numberha1 + candyHave\r\n      const body = {id: params.id, name : candyInfo.name, price: candyInfo.price, image:candyInfo.image, numbers:total}\r\n      \r\n      try{\r\n        await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n        .then(res=>{\r\n          setCandyHave(res.data.numbers)\r\n          \r\n        })\r\n        alert(`You successfully added ${numberha1} units to your cart`)\r\n        \r\n      }\r\n      catch(e){\r\n        alert(e)\r\n      }\r\n      document.getElementById('number').value = ''\r\n    } \r\n  };\r\n\r\n  const roundToHalf = (num) =>{\r\n    return Math.round(num * 2) / 2;\r\n  }\r\n  \r\n  \r\n  const makeStarRating = (rating) => {\r\n    rating = roundToHalf(rating);\r\n    let content = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      if (rating - i === .5) {\r\n        content.push(<i className=\"fa fa-star-half-full checked\" key={`star${i}`}/>);\r\n      } else if (rating - i > 0) {\r\n        content.push(<i className=\"fa fa-star checked\" key={`star${i}`}/>);\r\n      } else {\r\n        content.push(<i className=\"fa fa-star-o checked\" key={`star${i}`}/>);\r\n      }\r\n    }\r\n    return content;\r\n  }\r\n\r\n  \r\n  const changeRating = (num) => {\r\n    setReviewRating(num);\r\n  }\r\n  \r\n  \r\n  if(loading){\r\n    return (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Loading...</h2>\r\n\t\t\t</div>\r\n\t\t);\r\n  }\r\n  else{\r\n    if(candyInfo === undefined){\r\n      return(\r\n        <div>\r\n          <h1>Sorry, there is no such candy</h1>\r\n        </div>\r\n      )\r\n    }\r\n    else{\r\n      let notBlank= [];   \r\n      candyInfo.reviews.forEach((e)=>{\r\n        if(currentUser){\r\n          if(e.email !== currentUser.email){\r\n            if(e.review.trim(' ').length!==0) notBlank.push(e);\r\n          } \r\n        }\r\n        else{\r\n          if(e.review.trim(' ').length!==0) notBlank.push(e);\r\n        } \r\n      });    \r\n \r\n      return(\r\n        <div>\r\n          {candyStock === 0 ?\r\n            <div className=\"StockWarning Empty\">{candyInfo.name} is sold out</div> :\r\n            candyStock < 100 ?\r\n              <div className='StockWarning Low'>Only {candyStock} {candyInfo.name} left in stock!</div> :\r\n              null\r\n          }\r\n          <div className='Candy-body'>\r\n            <div className='Top-Info'>\r\n              <img src = {candyInfo.image} alt = \"Candy\" />\r\n              <div className='Right-Top'>\r\n                <div className='Top-Top-Info'>\r\n                  <p><u>{candyInfo&&candyInfo.manufacturer}</u></p>\r\n                  {candyInfo.vegan&&<img src = {veganCheck} width={40} height={40} alt='veganCheck'/>}\r\n                </div>\r\n                <h1>{candyInfo&&candyInfo.name}</h1>\r\n                <div className='Review-Info'>\r\n                  <div className='starsBig'>{makeStarRating(candyInfo.rating)}</div>\r\n                  <p>({candyInfo.rating.toFixed(1)})</p>\r\n                  <a className='numReviews' href='#reviews'>{candyInfo.numRatings} {candyInfo.numRatings > 1? 'Ratings' : 'Rating'}</a>\r\n                </div>\r\n                <h2>Price: ${candyInfo&&candyInfo.price.toFixed(2)}</h2>\r\n                <div className='add'>\r\n                  {currentUser&&(<div className='input-selection'>\r\n                    <p>You currently have {candyHave} units:</p>\r\n                    <label>\r\n                      Purchase more:\r\n                      <input\r\n                        id='number'\r\n                        name='number'\r\n                        placeholder='quantity'\r\n                      />\r\n                    </label>\r\n                  </div>)}\r\n                  {currentUser&&(<button onClick={changeCandy}> add to cart</button>)}\r\n                  {!currentUser&&(<p> Must be logged in to add candy to shopping cart</p>)}\r\n                  <h3>There is {candyStock} left in stock</h3>\r\n                  <p>{candyInfo&&candyInfo.descrption}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {!userReview&&currentUser&&(<div id=\"newReview\">\r\n              <div className='review-input'>\r\n                <h3>Review this product</h3>\r\n                <div className=\"star-rating\">\r\n                  <input type=\"radio\" name=\"stars\" id=\"star-a\" value=\"5\" onClick={() => changeRating(5)}/>\r\n                  <label htmlFor=\"star-a\"></label>\r\n\r\n                  <input type=\"radio\" name=\"stars\" id=\"star-b\" value=\"4\" onClick={() => changeRating(4)}/>\r\n                  <label htmlFor=\"star-b\"></label>\r\n              \r\n                  <input type=\"radio\" name=\"stars\" id=\"star-c\" value=\"3\" onClick={() => changeRating(3)}/>\r\n                  <label htmlFor=\"star-c\"></label>\r\n              \r\n                  <input type=\"radio\" name=\"stars\" id=\"star-d\" value=\"2\" onClick={() => changeRating(2)}/>\r\n                  <label htmlFor=\"star-d\"></label>\r\n              \r\n                  <input type=\"radio\" name=\"stars\" id=\"star-e\" value=\"1\" onClick={() => changeRating(1)}/>\r\n                  <label htmlFor=\"star-e\"></label>\r\n                </div>\r\n                  <label htmlFor =\"review\">\r\n                    Write a new Review:\r\n                    <textarea\r\n                      cols=\"40\" rows=\"5\"\r\n                      id='review'\r\n                      name='review'\r\n                      placeholder='Write a review on this product...'\r\n                    />\r\n                  </label>\r\n                </div>\r\n              <button onClick={reviewCandy}> Write Review</button>\r\n            </div>)}\r\n            {userReview&&currentUser&&(<div id=\"userReview\">\r\n                <h3>Your Review</h3>\r\n          \r\n                  <p>Review by {userReview.email}  on {userReview.date}</p>\r\n                  \r\n                  <p>{makeStarRating(userReview.rating)}</p>\r\n                  \r\n                  <p>Review: {userReview.review}</p>\r\n\r\n                  <button onClick={deleteReview}>Delete Review</button>\r\n                </div>)}\r\n            <p><b>Reviews: </b></p>\r\n            <ul id=\"reviewList\">\r\n              {notBlank.map(e=>\r\n                <li key={e.email}>\r\n                  <p>Review by {e.email}  on {e.date}</p>\r\n                  \r\n                  <p>{makeStarRating(e.rating)}</p>\r\n                  \r\n                  <p>Review: {e.review}</p>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n};\r\n\r\n\r\nexport default Candy;","import React, {useContext} from 'react';\r\nimport {Navigate,Outlet} from 'react-router-dom';\r\nimport { AuthContext } from '../firebase/Auth';\r\n\r\nconst PrivateRoute = () => {\r\n    const {currentUser} = useContext(AuthContext);\r\n  \r\n  \r\n    return currentUser ? <Outlet /> : <Navigate to='/signin' />;\r\n  };\r\n  \r\n  export default PrivateRoute;","import React from 'react'\r\nimport '../App.css';\r\nimport Account from './Account';\r\nimport {HashRouter as Router,Route, Routes} from 'react-router-dom'\r\nimport Home from './Home';\r\nimport Landing from './Landing'\r\nimport Navigation from './Navigation';\r\nimport SignIn from './SignIn'\r\nimport SignUp from './SignUp'\r\nimport ShoppingCart from './ShoppingCart';\r\nimport CandyList from './CandyList'\r\nimport Candy from './Candy';\r\n\r\nimport {AuthProvider} from \"../firebase/Auth\"\r\nimport PrivateRoute from './PrivateRoute';\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n    <Router>\r\n      <div className='App'>\r\n        <header className='App-header'>\r\n          <Navigation />\r\n        </header>\r\n      </div>\r\n      <Routes>\r\n        <Route path='/' element={<Landing />} />\r\n        <Route path='/CS554-Final_Project' element={<Landing />} />\r\n        <Route path='/home' element={<PrivateRoute />}>\r\n          <Route path='/home' element={<Home />} />\r\n        </Route>\r\n        <Route path='/shoppingcart' element={<ShoppingCart />}></Route>\r\n        <Route path='/account' element={<PrivateRoute />}>\r\n        <Route path='/account' element={<Account />} />\r\n        </Route>\r\n        <Route path='/signin' element={<SignIn />} />\r\n        <Route path='/signup' element={<SignUp />} />\r\n        <Route path= '/Candies' element={<CandyList/>} />\r\n        <Route path= '/Candies/:searchTerm' element={<CandyList/>} />\r\n        <Route path= '/Candy/:id' element={<Candy/>} />\r\n      </Routes>\r\n    </Router>\r\n  </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}